# Repository Guidelines

## Project Structure & Module Organization
- `lib/app/` hosts the application shell, including environment definitions, routing tables, theming hooks, and localization helpers.
- `lib/core/` aggregates shared services such as auth, networking, storage, and error handling utilities.
- `lib/features/` contains feature-oriented UI and logic (e.g., `lib/features/home/` drives the overview screen).
- `lib/shared/` exposes reusable widgets, Riverpod providers, and cross-feature services.
- `lib/l10n/` stores ARB resources generated by Flutter intl; modify translations through the tooling, not manually.
- `test/` mirrors the production layout; add `_test.dart` files alongside their source counterparts.

## Build, Test, and Development Commands
- `flutter pub get` installs or refreshes all package dependencies before builds.
- `flutter analyze` runs static analysis enforced by `flutter_lints`; fix warnings before opening a PR.
- `flutter test` executes unit and widget suites; keep the suite green and investigate intermittent failures.
- `flutter run --dart-define=APP_FLAVOR=dev` launches the dev flavor locally; swap to `stg` or `prod` as needed.

## Coding Style & Naming Conventions
- Target Dart 3 with null safety, Material 3 widgets, and prefer stateless components when possible.
- Indent with two spaces; adopt `UpperCamelCase` for types, `lowerCamelCase` for members, and snake_case for files.
- Centralize theme tokens inside `AppTheme` extensionsâ€”never hardcode colors, spacing, or radii in features.
- Keep user-facing strings in ARB files and route identifiers in `AppRouteName` enums or constants.

## Testing Guidelines
- Use `flutter_test` and Riverpod utilities to cover all `AsyncValue` states, `ApiResult` mappings, and error conversions.
- Mirror source directories in `test/` and suffix files with `_test.dart` for discoverability.
- Run `flutter test` before every commit; document known flaky cases in PR descriptions.

## Commit & Pull Request Guidelines
- Format commit subjects imperatively, e.g., `feat: add app http client`; squash fixups before review.
- PRs must summarize the change, link relevant issues, attach UI evidence when applicable, and record `flutter analyze`/`flutter test` outputs.
- Isolate environment-specific logic inside `lib/app/env/` to keep feature modules flavor-agnostic and easier to review.
